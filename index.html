<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eudora Web Template</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/eudora.css">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="bootstrap-sass/assets/javascripts/bootstrap.js"></script>
</head>

<body>
    <div class="container-fluid">
        <form>
        
            <header>
                <ul class="">
                    <div id="listDiv" class="row">
                        <div class="col-xs-2 headerDiv"><li><h6>Menu</h6></li></div>
                        <div class="col-xs-2 headerDiv"><li><h6>Our Story</h6></li></div>
                        <div class="col-xs-4 headerDiv"><li><h2 id="title">Eudora</h2></li></div>
                        <div class="col-xs-2 headerDiv"><li><h6>Offer</h6></li></div>
                        <div class="col-xs-2 headerDiv"><li><h6>Contact</h6></li></div>
                    </div>
                </ul>
            </header>

            <div id="heroSection">
                <div class="Overlay"></div>
                
                <div id="heroContent">
                    <h2>Eudora is a <span>simple</span> psd template</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod 
                       tempor incididunt ut labore et dolore magna aliqua. </p>
                    
                    <button>Learn More</button>
                </div>
            </div>

            <div id="foodSection">
                
                <div id="foodSectionHeader" class="row">
                    <div class="col-xs-2 col-xs-offset-1 col-md-offset-2 food-header-column">
                        <div class="orange-bar"></div>
                    </div>
                    <div class="col-xs-6 col-md-4 food-header-column"><h2 class="">Lorem ipsum dolor sit amet</h2></div>
                    <div class="col-xs-2 food-header-column">
                        <div class="orange-bar"></div>
                    </div>
                </div>
            </div>

            <div id="background2">
            </div>

            <div id="categorySection">
            </div>

            <div id="background3">
            </div>

            <footer>
            </footer>
        </form>
    </div>
    
    <script>
        $("Document").ready(function(){
            
            var categorySectionPosition = $("#categorySection").offset().top;
            var footerPosition = $("footer").offset().top;
            var background2InFlow = false;
            var background3InFlow = false;
            
            $(window).scroll(function() 
            {
                /*var targetElement = $("#foodSection");
                var targetPosition = targetElement.offset();
                var foodSectionPosition = (targetPosition.top - $(window).scrollTop());*/
                
                
                // #foodSection distance from top of window
                var foodSectionPosition = ( $("#foodSection").offset().top - $(window).scrollTop());

                if(foodSectionPosition < 0)
                {
                    $("#background2").css("z-index", "2");
                }
                else if(foodSectionPosition > 0)
                {
                    $("#background2").css("z-index", "0");
                }
                
                
                // position detection for #categorySection
                if( ($(window).scrollTop() + $(window).height()) >= categorySectionPosition && background2InFlow == false)
                {
                    background2InFlow = true;
                    $("#background2").css("position", "relative");
                    $("#categorySection").css("margin-top", "0px");
                }
                else if( ($(window).scrollTop() + $(window).height()) < categorySectionPosition && background2InFlow == true)
                {
                    background2InFlow = false;
                    $("#background2").css("position", "fixed");
                    $("#categorySection").css("margin-top", "45vh");
                }
                
                
                
                
                
                // #categorySection distance from top of window
                var categorySectionDistanceFromTop = ( categorySectionPosition - $(window).scrollTop());

                if(categorySectionDistanceFromTop < 0)
                {
                    $("#background3").css("z-index", "2");
                }
                else if(categorySectionDistanceFromTop > 0)
                {
                    $("#background3").css("z-index", "0");
                }
                
                
                // position detection for #categorySection
                if( ($(window).scrollTop() + $(window).height()) >= footerPosition && background3InFlow == false)
                {
                    background3InFlow = true;
                    $("#background3").css("position", "relative");
                    $("footer").css("margin-top", "0px");
                }
                else if( ($(window).scrollTop() + $(window).height()) < footerPosition && background3InFlow == true)
                {
                    background3InFlow = false;
                    $("#background3").css("position", "fixed");
                    $("footer").css("margin-top", "45vh");
                }
                
                
                
            });
        });
        
    </script>
</body>
</html>
